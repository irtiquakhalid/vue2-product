<template>
  <div class="notification">
    <loadercomponent :loader="loader" />
    <div class="d-flex justify-space-between flex-column h-100">
      <div>
        <div class="d-flex justify-space-between align-center mb-8" v-if="notification.length > 0">
          <div class="d-flex align-center">
            <h2>Notification</h2>
            <div class="ml-7" style="margin-top: 9px">
              <switchcomponent />
            </div>
          </div>
          <div class="d-flex align-center">
            <!-- <v-btn depressed color="var(--primary-color)" class="px-9 mr-6"
              ><span class="text-transform font-18 white--text"
                >New</span
              ></v-btn
            > -->
            <v-btn depressed color="var(--primary-color)" class="px-5" @click="deleteNotificationItem('all')"><span
                class="text-transform font-18 white--text">Clear All</span></v-btn>
          </div>
        </div>
        <div class="default-view" v-if="notification.length === 0 && loader == false">
          <svg width="370" height="400" viewBox="0 0 427 467" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1341_12128)">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M215.285 0C265.608 0 259.863 89.024 296.192 116.159C344.277 152.075 427 134.291 427 195.931C427 304.142 319.699 343.346 202.771 343.346C85.8427 343.346 -13.9263 283.331 20.8883 175.404C55.7058 67.4811 98.3562 0 215.285 0Z"
                fill="#E9EEF7" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M220.428 375.347C325.75 375.347 411.648 372.366 411.648 368.712C411.648 365.058 325.75 362.077 220.428 362.077C115.105 362.077 29.207 365.058 29.207 368.712C29.207 372.366 115.105 375.347 220.428 375.347Z"
                fill="#D1DEED" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M117.277 95.2295H288.2C293.745 95.2295 298.266 99.7553 298.266 105.312V350.815C298.266 356.37 293.748 360.898 288.2 360.898H117.277C111.732 360.898 107.211 356.373 107.211 350.815V105.312C107.211 99.7582 111.729 95.2295 117.277 95.2295Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M117.276 97.7188H288.199C292.367 97.7188 295.78 101.138 295.78 105.312V350.815C295.78 354.99 292.367 358.409 288.199 358.409H117.276C113.109 358.409 109.695 354.99 109.695 350.815V105.312C109.695 101.138 113.109 97.7188 117.276 97.7188Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M247.739 107.061C247.739 110.158 244.036 112.67 239.468 112.67H166.005C161.438 112.67 157.734 110.161 157.734 107.061V90.2415C157.734 87.1449 161.438 84.635 166.005 84.635H239.465C244.036 84.635 247.736 87.1449 247.736 90.2415V107.061H247.739ZM247.408 74.3604H158.065C152.509 74.3604 148.008 78.1251 148.008 82.7701V107.999C148.008 112.641 152.512 116.406 158.065 116.406H247.408C252.965 116.406 257.469 112.641 257.469 107.999V82.7701C257.469 78.1251 252.962 74.3604 247.408 74.3604Z"
                fill="var(--primary-color)" />
              <path d="M283.191 122.947H122.281V347.201H283.191V122.947Z" fill="#FDFDFD" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M248.413 122.947C248.413 127.592 244.654 131.357 240.017 131.357H165.458C160.821 131.357 157.062 127.592 157.062 122.947V97.7183C157.062 93.0763 160.821 89.3086 165.458 89.3086H240.017C244.651 89.3086 248.413 93.0763 248.413 97.7183V122.947Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M181.594 110.803C181.594 114.672 178.462 117.809 174.596 117.809C170.734 117.809 167.602 114.672 167.602 110.803C167.602 106.93 170.734 103.796 174.596 103.796C178.462 103.793 181.594 106.93 181.594 110.803Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M239.759 110.803C239.759 114.672 236.627 117.809 232.764 117.809C228.902 117.809 225.77 114.672 225.77 110.803C225.77 106.93 228.902 103.796 232.764 103.796C236.627 103.796 239.759 106.93 239.759 110.803Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M141.348 176.659L157.924 176.607L157.976 193.212L141.4 193.264L141.348 176.659ZM141.771 311.462L158.348 311.41L158.4 328.014L141.823 328.066L141.771 311.462ZM141.687 284.501L158.26 284.452L158.313 301.057L141.736 301.109L141.687 284.501ZM141.6 257.541L158.176 257.489L158.229 274.093L141.652 274.145L141.6 257.541ZM141.516 230.58L158.092 230.528L158.145 247.133L141.568 247.185L141.516 230.58ZM141.432 203.62L158.008 203.568L158.06 220.172L141.484 220.224L141.432 203.62Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M170.95 177.174L260.935 176.892C262.454 176.886 263.701 178.13 263.704 179.649C263.71 181.171 262.472 182.42 260.949 182.426L170.965 182.708C169.445 182.714 168.198 181.47 168.195 179.951C168.192 178.426 169.431 177.177 170.95 177.174ZM171.371 311.973L261.355 311.692C262.875 311.686 264.122 312.929 264.125 314.448C264.128 315.971 262.889 317.22 261.37 317.226L171.388 317.507C169.869 317.51 168.622 316.27 168.619 314.748C168.613 313.228 169.851 311.979 171.371 311.973ZM171.403 321.833L225.447 321.661C226.967 321.658 228.214 322.899 228.22 324.421C228.223 325.943 226.984 327.192 225.465 327.198L171.42 327.367C169.901 327.372 168.654 326.129 168.648 324.61C168.645 323.088 169.883 321.839 171.403 321.833ZM171.287 285.013L261.271 284.731C262.791 284.728 264.038 285.969 264.043 287.491C264.049 289.013 262.811 290.262 261.291 290.265L171.307 290.547C169.787 290.553 168.54 289.312 168.535 287.79V287.787C168.529 286.268 169.767 285.019 171.287 285.013ZM171.319 294.872L225.363 294.704C226.883 294.698 228.13 295.941 228.136 297.461C228.141 298.983 226.903 300.232 225.383 300.238L171.339 300.406C169.819 300.412 168.572 299.172 168.569 297.646C168.558 296.127 169.799 294.878 171.319 294.872ZM171.203 258.052L261.187 257.771C262.707 257.765 263.954 259.008 263.956 260.527C263.962 262.05 262.721 263.299 261.204 263.305L171.223 263.586C169.703 263.589 168.456 262.349 168.451 260.827C168.445 259.307 169.683 258.058 171.203 258.052ZM171.235 267.912L225.279 267.743C226.799 267.74 228.046 268.981 228.051 270.503C228.057 272.025 226.816 273.274 225.299 273.277L171.255 273.446C169.735 273.451 168.488 272.208 168.482 270.689V270.686C168.474 269.167 169.715 267.918 171.235 267.912ZM171.119 231.092L261.1 230.81C262.62 230.804 263.867 232.048 263.872 233.567V233.57C263.878 235.092 262.637 236.341 261.12 236.347L171.136 236.629C169.616 236.635 168.369 235.391 168.364 233.872V233.869C168.361 232.347 169.599 231.098 171.119 231.092ZM171.15 240.954L225.195 240.783C226.715 240.78 227.962 242.02 227.964 243.542C227.97 245.065 226.732 246.314 225.212 246.32L171.168 246.491C169.648 246.494 168.401 245.253 168.395 243.731C168.39 242.206 169.631 240.957 171.15 240.954ZM171.034 204.134L261.019 203.85C262.538 203.847 263.785 205.087 263.791 206.609C263.797 208.132 262.556 209.381 261.039 209.386L171.055 209.671C169.535 209.674 168.288 208.434 168.282 206.911C168.277 205.386 169.515 204.137 171.034 204.134ZM171.066 213.991L225.111 213.822C226.63 213.816 227.877 215.057 227.88 216.579V216.582C227.886 218.104 226.645 219.353 225.128 219.359L171.084 219.528C169.564 219.533 168.317 218.29 168.311 216.771C168.306 215.246 169.544 213.997 171.066 213.991ZM170.982 187.033L225.027 186.862C226.546 186.859 227.793 188.099 227.799 189.621C227.802 191.144 226.564 192.393 225.044 192.399L171 192.57C169.48 192.573 168.233 191.332 168.227 189.81C168.221 188.285 169.46 187.036 170.982 187.033Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M175.427 143.227L265.411 142.945C266.928 142.94 268.178 144.183 268.184 145.702V145.705C268.187 147.227 266.948 148.476 265.429 148.482L175.444 148.764C173.928 148.77 172.678 147.526 172.672 146.007V146.004C172.669 144.482 173.907 143.233 175.427 143.227ZM175.459 153.086L264.118 152.915C265.635 152.912 266.882 154.15 266.887 155.675C266.89 157.197 265.652 158.449 264.132 158.449L175.473 158.617C173.954 158.62 172.707 157.383 172.701 155.861C172.698 154.341 173.939 153.089 175.459 153.086Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M187.205 105.547H218.272C218.986 105.547 219.563 106.125 219.563 106.84V107.331C219.563 108.046 218.986 108.624 218.272 108.624H187.205C186.491 108.624 185.914 108.046 185.914 107.331V106.84C185.914 106.125 186.491 105.547 187.205 105.547Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M187.205 112.092H218.272C218.986 112.092 219.563 112.67 219.563 113.385V113.876C219.563 114.591 218.986 115.169 218.272 115.169H187.205C186.491 115.169 185.914 114.591 185.914 113.876V113.385C185.914 112.67 186.491 112.092 187.205 112.092Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M238.323 111.218C238.323 114.523 235.649 117.202 232.349 117.202C229.052 117.202 226.375 114.523 226.375 111.218C226.375 107.912 229.049 105.233 232.349 105.233C235.649 105.233 238.323 107.912 238.323 111.218Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M179.944 111.697C179.944 115.003 177.27 117.681 173.97 117.681C170.673 117.681 167.996 115.003 167.996 111.697C167.996 108.391 170.67 105.713 173.97 105.713C177.27 105.713 179.944 108.391 179.944 111.697Z"
                fill="var(--primary-color)" />
              <path d="M335.876 333.587L330.34 339.133L335.876 344.679L341.413 339.133L335.876 333.587Z"
                fill="#BB5D59" />
              <path d="M335.878 336.722L333.5 339.105L335.879 341.488L338.257 339.105L335.878 336.722Z"
                fill="#E69F83" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M329.14 268.045C329.14 268.045 330.973 245.178 316 240.193C316.003 240.19 318.152 252.126 329.14 268.045Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M340.133 265.549C340.133 265.549 353.714 256.236 368.266 267.008C368.266 267.008 366.708 256.997 355.271 255.551C343.833 254.104 340.133 265.549 340.133 265.549Z"
                fill="#BADAF9" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M327.137 302.35C327.137 302.35 327.566 293.928 321.682 289.806C313.588 284.136 307.66 290.376 307.66 290.376C307.66 290.376 321.954 293.045 327.137 302.35Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M338.82 299.549C338.82 299.549 343.533 287.255 354.286 291.517C354.283 291.517 349.002 294.866 338.82 299.549Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M338.629 320.38C338.629 320.38 344.136 313.859 350.33 316.79C350.333 316.793 349.991 320.014 338.629 320.38Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M325.221 319.095C325.221 319.095 320.354 312.222 314.728 315.571C314.728 315.571 314.348 316.521 318.377 317.018C322.405 317.512 325.221 319.095 325.221 319.095Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M347.352 276.742C347.352 276.742 355.158 269.25 363.821 276.521C363.824 276.521 355.277 277.384 347.352 276.742Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M339.387 278.842C339.387 278.842 339.007 271.763 345.164 270.354C345.164 270.354 344.022 276.332 339.387 278.842Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M342.625 282.102C342.625 282.102 348.242 278.54 354.666 283.449C354.663 283.449 349.736 285.474 342.625 282.102Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M319.652 272.411C319.652 272.411 314.768 262.247 302.875 266.395C302.875 266.398 307.55 272.033 319.652 272.411Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M326.503 276.707C326.503 276.707 329.36 271.879 325.14 266.627C325.14 266.624 322.582 272.056 326.503 276.707Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M322.137 280.1C322.137 280.1 313.817 274.735 305.723 280.635C305.723 280.632 312.981 285.504 322.137 280.1Z"
                fill="#BADAF9" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M334.121 274.505C334.121 274.505 329.583 266.435 336.461 260.347C336.461 260.344 338.622 266.854 334.121 274.505Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M332.282 260.84C332.282 260.84 331.218 244.892 344.367 240.974C344.367 240.971 341.821 252.39 332.282 260.84Z"
                fill="#BADAF9" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M321.961 270.833C321.961 270.833 325.105 263.124 321.648 257.262C321.645 257.262 316.843 263.661 321.961 270.833Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M336.945 307.721C336.945 307.721 340.15 300.159 350.903 303.317C350.903 303.317 348.218 307.48 336.945 307.721Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M335.347 301.37C335.347 301.37 332.284 293.08 338.708 288.777C338.705 288.777 340.459 294.552 335.347 301.37Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M322.402 309.542C322.402 309.542 318.267 301.338 308.578 305.143C308.575 305.143 312.667 310.515 322.402 309.542Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M326.016 309.835C326.016 309.835 324.154 306.398 319.633 302.401C319.633 302.404 325.711 300.292 326.016 309.835Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M334.906 319.035C334.906 319.035 334.982 311.308 343.151 310.623C343.151 310.625 342.278 315.724 334.906 319.035Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M327.092 330.291C327.092 330.291 324.917 323.717 316.48 325.846C316.478 325.846 318.4 330.471 327.092 330.291Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M335.629 331.215C335.629 331.215 337.415 324.935 344.863 325.737C344.863 325.734 344.37 330.948 335.629 331.215Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M363.092 261.558C363.075 261.547 361.213 260.266 358.452 259.304C356.831 258.741 355.219 258.392 353.662 258.273C351.71 258.122 349.839 258.334 348.102 258.894C342.9 260.576 338.872 265.358 336.131 273.105C335.595 274.622 335.113 276.28 334.687 278.076C334.577 277.294 334.429 276.031 334.353 274.5C334.234 272.097 334.269 268.524 335.128 265.149C335.154 265.047 335.093 264.943 334.991 264.916C334.89 264.89 334.785 264.951 334.759 265.053C333.889 268.478 333.852 272.092 333.973 274.517C334.104 277.146 334.446 278.994 334.449 279.014L334.464 279.055C333.469 283.566 332.808 288.891 332.492 294.965C332.173 301.091 332.199 307.988 332.573 315.514C332.535 315.735 332.5 315.959 332.463 316.182C331.654 321.339 331.549 326.3 331.607 329.551C331.668 333.074 331.923 335.413 331.926 335.439C331.938 335.538 332.019 335.607 332.115 335.607L332.135 335.605C332.239 335.593 332.315 335.5 332.303 335.395C332.3 335.372 332.048 333.051 331.987 329.542C331.935 326.544 332.019 322.091 332.671 317.373C332.709 318.076 332.753 318.785 332.799 319.5C333.005 322.733 333.257 325.841 333.527 328.74C333.312 329.896 333.196 331.125 333.179 332.409C333.141 335.294 333.631 337.49 333.637 337.513C333.657 337.603 333.736 337.661 333.823 337.661L333.863 337.655C333.965 337.632 334.029 337.53 334.005 337.426C334 337.406 333.521 335.253 333.556 332.412C333.565 331.779 333.599 331.082 333.678 330.344C333.785 331.442 333.895 332.505 334.005 333.528C333.831 333.894 333.744 334.126 333.736 334.149C333.701 334.248 333.75 334.355 333.849 334.393C333.872 334.402 333.892 334.405 333.916 334.405C333.988 334.405 334.058 334.361 334.09 334.292C334.968 342.315 335.841 347.712 335.856 347.796C335.87 347.889 335.951 347.956 336.044 347.956L336.076 347.953C336.18 347.936 336.25 347.84 336.233 347.735C336.218 347.651 335.299 341.969 334.397 333.6C334.675 333.031 335.157 332.171 335.879 331.27C337.03 329.838 339.037 328.017 342.082 327.477C342.186 327.459 342.253 327.36 342.236 327.256C342.218 327.151 342.12 327.084 342.015 327.102C340.62 327.352 339.315 327.875 338.138 328.665C337.198 329.295 336.34 330.091 335.583 331.035C335.032 331.724 334.617 332.383 334.324 332.918C334.185 331.596 334.046 330.21 333.91 328.775C334.269 326.869 334.962 324.836 336.236 323.07C338.353 320.13 341.69 318.419 346.151 317.986C346.255 317.975 346.33 317.882 346.322 317.777C346.31 317.673 346.217 317.597 346.116 317.606C341.54 318.05 338.115 319.813 335.928 322.846C334.974 324.174 334.258 325.745 333.797 327.526C333.744 326.942 333.692 326.349 333.643 325.751C333.663 325.722 333.678 325.684 333.681 325.647C333.681 325.623 333.756 323.445 334.466 320.903C335.119 318.57 336.453 315.447 339.109 313.829C339.199 313.774 339.228 313.658 339.173 313.568C339.118 313.478 339.002 313.449 338.912 313.504C337.691 314.248 336.633 315.354 335.774 316.789C335.09 317.931 334.527 319.279 334.101 320.804C333.791 321.911 333.602 322.951 333.483 323.782C333.373 322.378 333.272 320.941 333.179 319.476C333.098 318.201 333.022 316.885 332.956 315.534C333.179 314.216 333.457 312.853 333.802 311.482C333.939 311.25 334.713 309.989 336.154 308.624C337.622 307.235 340.098 305.457 343.567 304.876C343.671 304.859 343.741 304.76 343.723 304.659C343.706 304.554 343.607 304.484 343.503 304.502C341.931 304.766 340.423 305.289 339.025 306.056C337.906 306.672 336.853 307.441 335.893 308.348C335.096 309.103 334.501 309.818 334.098 310.361C336.192 302.823 340.391 295.232 348.769 292.937C348.871 292.908 348.932 292.804 348.903 292.705C348.877 292.603 348.769 292.542 348.668 292.571C343.894 293.878 340.046 296.955 337.224 301.719C336.679 302.637 336.175 303.619 335.708 304.661C335.522 303.104 335.139 298.413 336.641 294.637C336.679 294.538 336.633 294.427 336.534 294.39C336.436 294.352 336.325 294.398 336.288 294.497C335.316 296.943 335.125 299.738 335.139 301.652C335.154 303.723 335.4 305.239 335.403 305.254C335.406 305.274 335.415 305.295 335.424 305.312C334.356 307.831 333.507 310.689 332.877 313.855C332.584 307.017 332.532 299.438 333.057 292.217C333.086 292.196 333.115 292.162 333.138 292.109C333.144 292.092 333.156 292.069 333.167 292.037C333.71 290.712 335.444 286.907 338.724 283.252L338.747 283.241C338.761 283.235 340.107 282.636 342.25 282.296C344.225 281.986 347.299 281.838 350.733 282.907C350.831 282.938 350.939 282.88 350.97 282.782C351.002 282.68 350.944 282.575 350.846 282.543C347.337 281.451 344.196 281.605 342.178 281.925C340.907 282.125 339.921 282.413 339.31 282.622C342.987 278.77 348.43 275.267 356.072 275.267C356.109 275.267 356.147 275.267 356.185 275.267H356.188C356.292 275.267 356.376 275.182 356.379 275.078C356.379 274.973 356.295 274.886 356.19 274.886C352.441 274.869 348.914 275.688 345.707 277.323C343.245 278.575 340.963 280.312 338.909 282.488C338.967 281.93 339.098 281.018 339.373 279.923C339.794 278.247 340.652 275.787 342.357 273.596C342.421 273.512 342.407 273.393 342.326 273.329C342.241 273.265 342.123 273.28 342.059 273.361C340.31 275.609 339.431 278.125 339.005 279.842C338.614 281.405 338.515 282.581 338.492 282.947C335.647 286.096 333.95 289.355 333.144 291.145C333.678 284.545 334.71 278.294 336.499 273.239C339.199 265.611 343.143 260.908 348.227 259.263C352.058 258.023 355.834 258.799 358.328 259.664C361.042 260.605 362.869 261.863 362.887 261.875C362.974 261.936 363.092 261.913 363.15 261.828C363.2 261.738 363.179 261.619 363.092 261.558Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M331.372 297.686C331.369 296.234 331.351 294.805 331.325 293.402C331.334 293.378 331.337 293.352 331.334 293.326C331.334 293.317 331.331 293.271 331.322 293.192C331.198 286.871 330.85 281.064 330.284 275.821C330.267 275.324 330.194 271.972 330.972 267.449C331.746 262.943 333.544 256.329 337.726 250.4C337.787 250.316 337.766 250.197 337.679 250.136C337.592 250.075 337.473 250.095 337.415 250.182C335.551 252.826 333.996 255.824 332.796 259.092C331.836 261.703 331.096 264.495 330.6 267.385C330.218 269.616 330.041 271.565 329.959 273.035C329.722 271.179 329.455 269.398 329.156 267.699C328.304 262.819 327.193 258.56 325.859 255.033C324.386 251.144 322.602 248.05 320.558 245.842C320.485 245.764 320.366 245.761 320.288 245.831C320.21 245.903 320.207 246.022 320.276 246.101C324.133 250.266 326.996 257.555 328.782 267.763C329.223 270.281 329.6 272.98 329.907 275.847C329.907 275.879 329.91 275.899 329.91 275.902C329.91 275.92 329.916 275.934 329.919 275.949C330.4 280.417 330.719 285.294 330.879 290.552C330.847 290.401 330.812 290.247 330.774 290.087C330.354 288.289 329.545 285.523 328.069 282.557C328.005 282.43 327.941 282.302 327.874 282.174C327.561 280.867 326.349 275.635 326.056 271.286C326.05 271.182 325.957 271.103 325.853 271.109C325.749 271.115 325.67 271.208 325.676 271.313C325.908 274.752 326.709 278.732 327.196 280.922C326.131 279.057 324.905 277.346 323.527 275.804C323.379 275.359 321.561 269.834 321.346 264.747C321.344 264.643 321.254 264.562 321.149 264.564C321.045 264.567 320.964 264.657 320.967 264.762C321.143 268.919 322.376 273.358 322.921 275.144C322.524 274.726 322.115 274.322 321.694 273.93C318.478 270.941 314.584 268.753 310.118 267.426C310.016 267.397 309.912 267.455 309.883 267.554C309.854 267.655 309.909 267.76 310.01 267.789C319.557 270.627 324.696 276.963 327.378 282.032C326.775 281.657 325.647 281.035 324.009 280.48C322.541 279.984 320.972 279.647 319.343 279.478C317.307 279.269 315.175 279.321 313 279.635C312.896 279.65 312.823 279.746 312.841 279.85C312.855 279.955 312.951 280.027 313.055 280.013C317.895 279.313 321.607 280.074 323.869 280.835C326.32 281.663 327.642 282.668 327.657 282.677L327.744 282.746C330.27 287.833 330.861 292.388 330.951 293.218C330.98 294.677 330.998 296.164 331.003 297.678C331.027 305.041 330.763 312.129 330.418 318.143C330.299 316.652 330.139 315.122 329.93 313.582C329.049 307.057 327.468 301.724 325.235 297.727C322.431 292.701 318.583 289.785 313.798 289.056C313.693 289.041 313.598 289.111 313.58 289.216C313.566 289.32 313.635 289.416 313.74 289.433C318.403 290.145 322.158 292.998 324.902 297.913C327.109 301.866 328.675 307.153 329.551 313.628C329.736 315.008 329.884 316.379 329.997 317.721C329.536 316.774 328.675 315.244 327.286 313.588C327.164 313.443 327.039 313.297 326.912 313.155C326.917 313.137 326.92 313.117 326.92 313.094C326.917 313.039 326.842 311.766 326.392 310.102C325.978 308.559 325.151 306.392 323.571 304.809C323.495 304.736 323.376 304.736 323.301 304.809C323.226 304.885 323.226 305.004 323.301 305.079C324.821 306.601 325.618 308.702 326.021 310.195C326.311 311.273 326.442 312.202 326.5 312.708C325.38 311.517 324.136 310.471 322.791 309.593C320.703 308.234 318.362 307.272 315.836 306.738C315.735 306.715 315.633 306.782 315.61 306.886C315.59 306.988 315.654 307.089 315.758 307.11C321.37 308.298 324.96 311.415 326.984 313.823C329.179 316.437 330.058 318.802 330.067 318.825L330.087 318.863C330.145 319.65 330.191 320.426 330.229 321.181C329.858 326.875 329.446 331.322 329.205 333.69C329.217 333.533 329.226 333.376 329.234 333.213C329.24 333.193 329.24 333.17 329.237 333.147C329.261 332.711 329.275 332.252 329.281 331.781C329.307 329.698 329.133 327.752 328.768 326.003C328.306 323.807 327.538 321.913 326.482 320.371C324.612 317.634 321.825 315.973 318.2 315.432C318.096 315.418 318 315.488 317.985 315.592C317.971 315.697 318.04 315.793 318.145 315.807C321.66 316.33 324.36 317.936 326.169 320.583C328.498 323.987 328.942 328.545 328.901 331.767C328.898 331.982 328.895 332.194 328.886 332.403C328.602 331.886 328.132 331.133 327.436 330.355C326.709 329.542 325.882 328.87 324.983 328.359C323.858 327.72 322.614 327.334 321.288 327.209C321.184 327.197 321.091 327.276 321.083 327.38C321.071 327.485 321.149 327.578 321.254 327.587C324.13 327.857 326.047 329.373 327.146 330.599C328.222 331.796 328.753 332.958 328.855 333.193C328.701 335.988 328.254 338.006 328.248 338.033C328.225 338.134 328.289 338.239 328.393 338.262L328.434 338.268C328.521 338.268 328.599 338.207 328.62 338.12C328.623 338.105 328.834 337.158 329.017 335.668C329.04 335.735 329.098 335.784 329.174 335.793H329.197C329.292 335.793 329.374 335.723 329.385 335.624C329.394 335.54 329.867 331.404 330.351 324.931C330.371 326.361 330.365 327.665 330.342 328.792C330.264 332.839 329.997 335.555 329.997 335.584C329.986 335.688 330.064 335.781 330.168 335.793H330.186C330.281 335.793 330.365 335.72 330.374 335.622C330.377 335.595 330.644 332.868 330.722 328.807C330.763 326.747 330.757 324.106 330.612 321.181C331.032 314.596 331.401 306.331 331.372 297.686Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M344.391 337.304C344.391 338.111 344.379 338.91 344.362 339.703C344.341 340.47 344.312 341.234 344.275 341.986C344.228 342.899 344.17 343.802 344.098 344.691C343.886 347.334 343.561 349.868 343.138 352.25C342.43 356.241 341.447 359.808 340.258 362.768C339.87 363.736 339.458 364.639 339.026 365.47C338.976 365.563 338.927 365.656 338.878 365.749C338.498 366.46 338.104 367.117 337.695 367.715H325.619C325.158 367.041 324.714 366.292 324.288 365.47C323.856 364.639 323.444 363.736 323.055 362.768C321.156 358.042 319.784 351.77 319.216 344.691C319.143 343.802 319.085 342.899 319.042 341.986C319.004 341.234 318.975 340.47 318.955 339.703C318.934 338.91 318.926 338.111 318.926 337.304C318.926 337.202 318.926 337.1 318.926 336.999C318.929 335.831 318.955 334.675 318.998 333.533H344.31C344.356 334.672 344.379 335.828 344.385 336.999C344.391 337.1 344.391 337.205 344.391 337.304Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M344.392 337.304C344.392 338.112 344.38 338.91 344.36 339.704H318.959C318.938 338.91 318.93 338.112 318.93 337.304C318.93 337.202 318.93 337.101 318.93 336.999H344.389C344.389 337.101 344.392 337.205 344.392 337.304Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M344.272 341.986C344.226 342.898 344.168 343.802 344.095 344.691H319.216C319.146 343.802 319.085 342.898 319.039 341.986H344.272Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M340.259 362.769C339.87 363.736 339.458 364.639 339.026 365.47H324.291C323.859 364.639 323.447 363.736 323.059 362.769H340.259Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M340.698 352.444C334.849 352.444 331.154 348.842 328.84 344.688H344.1C343.981 346.181 343.824 347.634 343.636 349.048C343.491 350.141 343.325 351.207 343.14 352.247C342.284 352.383 341.472 352.444 340.698 352.444Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M344.271 341.987H327.535C327.216 341.217 326.935 340.447 326.691 339.704H344.355C344.361 339.5 344.367 339.294 344.37 339.091C344.367 339.294 344.361 339.5 344.358 339.704C344.338 340.471 344.309 341.235 344.271 341.987ZM344.387 337.002H325.923C325.575 335.579 325.36 334.365 325.238 333.537H344.312C344.358 334.675 344.384 335.831 344.387 337.002Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M344.361 339.704H326.697C326.387 338.757 326.132 337.841 325.926 337.002H344.39C344.39 337.011 344.39 337.022 344.39 337.034C344.39 337.124 344.39 337.214 344.39 337.304C344.39 337.905 344.384 338.498 344.373 339.091C344.37 339.294 344.367 339.5 344.361 339.704Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M344.098 344.691H328.838C328.345 343.802 327.913 342.893 327.539 341.986H344.275C344.261 342.306 344.24 342.625 344.223 342.945C344.185 343.532 344.145 344.113 344.098 344.691Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M337.696 367.716H325.62C325.159 367.042 324.715 366.292 324.289 365.47H338.145C338.386 365.569 338.629 365.662 338.879 365.749C338.499 366.461 338.105 367.117 337.696 367.716ZM323.059 362.769C321.16 358.042 319.788 351.771 319.22 344.691H323.573C325.142 351.074 328.079 358.347 333.578 362.769H323.059ZM322.975 341.987H319.046C319.008 341.235 318.979 340.471 318.959 339.704H322.563C322.682 340.433 322.819 341.2 322.975 341.987ZM318.93 337.304C318.93 337.203 318.93 337.101 318.93 336.999C318.93 337.101 318.93 337.206 318.93 337.304ZM322.183 337.002H318.93C318.933 335.834 318.959 334.678 319.002 333.537H321.859C321.917 334.42 322.015 335.605 322.183 337.002Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M322.563 339.704H318.959C318.938 338.91 318.93 338.112 318.93 337.304C318.93 337.202 318.93 337.101 318.93 336.999H322.183C322.285 337.833 322.41 338.739 322.563 339.704Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M323.573 344.691H319.22C319.176 344.153 319.139 343.61 319.104 343.064C319.081 342.707 319.063 342.347 319.043 341.986H322.972C323.149 342.861 323.347 343.764 323.573 344.691Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M338.147 365.47H324.291C323.96 364.831 323.641 364.151 323.334 363.434C323.241 363.216 323.148 362.995 323.059 362.769H333.577C334.937 363.861 336.457 364.782 338.147 365.47Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M1.3804 119.192H49.3175C50.0802 119.192 50.695 118.573 50.695 117.812C50.695 117.048 50.0773 116.432 49.3175 116.432H1.3804C0.617702 116.432 0 117.051 0 117.812C0 118.573 0.614802 119.192 1.3804 119.192ZM69.8612 107.758H75.5684C76.3282 107.758 76.9459 107.139 76.9459 106.375C76.9488 105.611 76.3282 104.996 75.5655 104.996H69.8583C69.0985 104.996 68.4808 105.614 68.4808 106.375C68.4837 107.139 69.0985 107.758 69.8612 107.758ZM60.732 119.192H65.2966C66.0564 119.192 66.6741 118.573 66.6741 117.812C66.6741 117.048 66.0564 116.432 65.2937 116.432H60.7291C59.9664 116.432 59.3486 117.051 59.3486 117.812C59.3515 118.573 59.9664 119.192 60.732 119.192ZM10.5096 107.758H60.732C61.4918 107.758 62.1095 107.139 62.1095 106.375C62.1095 105.611 61.4918 104.996 60.7291 104.996H10.5067C9.74692 104.996 9.12632 105.614 9.12632 106.375C9.12922 107.139 9.74693 107.758 10.5096 107.758Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M205.099 52.2881H253.036C253.799 52.2881 254.417 51.6693 254.417 50.9083C254.417 50.1443 253.799 49.5284 253.036 49.5284H205.099C204.336 49.5284 203.719 50.1472 203.719 50.9083C203.719 51.6693 204.334 52.2881 205.099 52.2881ZM273.58 40.8543H279.287C280.047 40.8543 280.665 40.2356 280.665 39.4716C280.668 38.7076 280.047 38.0918 279.284 38.0918L273.577 38.0889C272.817 38.0889 272.197 38.7076 272.197 39.4716C272.202 40.2385 272.82 40.8543 273.58 40.8543ZM264.451 52.2881H269.015C269.775 52.2881 270.393 51.6693 270.393 50.9083C270.393 50.1443 269.775 49.5284 269.012 49.5284H264.448C263.685 49.5284 263.067 50.1472 263.067 50.9083C263.073 51.6693 263.685 52.2881 264.451 52.2881ZM214.228 40.8543H264.451C265.211 40.8543 265.828 40.2356 265.828 39.4716C265.828 38.7076 265.211 38.0918 264.451 38.0918L214.228 38.0889C213.469 38.0889 212.848 38.7076 212.848 39.4716C212.848 40.2385 213.466 40.8543 214.228 40.8543Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M308.298 199.105H356.236C356.998 199.105 357.616 198.487 357.616 197.726C357.616 196.962 356.998 196.346 356.236 196.346H308.298C307.536 196.346 306.918 196.965 306.918 197.726C306.921 198.487 307.536 199.105 308.298 199.105ZM376.782 187.675H382.489C383.249 187.675 383.867 187.056 383.867 186.292C383.87 185.528 383.249 184.912 382.486 184.912L376.779 184.909C376.019 184.909 375.399 185.528 375.399 186.292C375.405 187.056 376.019 187.675 376.782 187.675ZM367.653 199.105H372.217C372.977 199.105 373.595 198.487 373.595 197.726C373.595 196.962 372.977 196.346 372.215 196.346H367.65C366.887 196.346 366.27 196.965 366.27 197.726C366.272 198.487 366.887 199.105 367.653 199.105ZM317.43 187.675H367.653C368.413 187.675 369.03 187.056 369.03 186.292C369.03 185.528 368.413 184.912 367.65 184.912L317.428 184.909C316.668 184.909 316.05 185.528 316.05 186.292C316.05 187.056 316.668 187.675 317.43 187.675Z"
                fill="var(--primary-color)" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M108.884 39.7051C108.432 45.9274 107.516 46.7873 101.594 47.2666C107.516 47.7459 108.432 48.6028 108.884 54.8281C109.337 48.6057 110.253 47.7459 116.175 47.2666C110.253 46.7844 109.337 45.9274 108.884 39.7051ZM132.96 56.1178C132.72 59.4411 132.229 59.8971 129.068 60.1528C132.229 60.4084 132.72 60.8674 132.96 64.1906C133.201 60.8674 133.691 60.4084 136.855 60.1528C133.691 59.8971 133.201 59.4382 132.96 56.1178ZM122.416 30.5459C122.172 33.9098 121.676 34.3746 118.475 34.6331C121.676 34.8916 122.172 35.3564 122.416 38.7203C122.659 35.3564 123.155 34.8916 126.36 34.6331C123.158 34.3775 122.662 33.9127 122.416 30.5459Z"
                fill="white" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M69.6539 233.546C69.2015 239.769 68.2851 240.629 62.3633 241.108C68.2851 241.587 69.2015 242.444 69.6539 248.669C70.1063 242.447 71.0227 241.587 76.9445 241.108C71.0227 240.629 70.1063 239.769 69.6539 233.546ZM93.7298 249.959C93.4891 253.282 92.999 253.738 89.838 253.994C92.999 254.25 93.4891 254.709 93.7298 258.032C93.9705 254.709 94.4606 254.25 97.6245 253.994C94.4606 253.738 93.9734 253.279 93.7298 249.959ZM83.1882 224.387C82.9446 227.751 82.4487 228.216 79.2471 228.474C82.4487 228.733 82.9446 229.198 83.1882 232.562C83.4318 229.198 83.9277 228.733 87.1322 228.474C83.9277 228.219 83.4318 227.754 83.1882 224.387Z"
                fill="white" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M325.951 215.001C325.498 221.223 324.582 222.083 318.66 222.562C324.582 223.042 325.498 223.899 325.951 230.124C326.403 223.902 327.32 223.042 333.241 222.562C327.32 222.083 326.403 221.223 325.951 215.001ZM350.027 231.414C349.786 234.737 349.296 235.193 346.135 235.449C349.296 235.704 349.786 236.163 350.027 239.487C350.267 236.163 350.757 235.704 353.921 235.449C350.757 235.193 350.267 234.734 350.027 231.414ZM339.482 205.842C339.239 209.206 338.743 209.67 335.541 209.929C338.743 210.188 339.239 210.652 339.482 214.016C339.726 210.652 340.222 210.188 343.426 209.929C340.222 209.673 339.726 209.209 339.482 205.842Z"
                fill="white" />
            </g>
            <defs>
              <clipPath id="clip0_1341_12128">
                <rect width="427" height="375.347" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </div>

        <div v-if="notification.length > 0">
          <div class="notification-items mb-3 cursor-pointer" v-for="item in notification" :key="item.id"
            @click="handleNotificationClick(item)">
            <div>
              <h5>{{ item.notificationType }}</h5>
              <span class="cyan-text text-decoration-none font-17">
                {{ item.messageBody }}
              </span>
            </div>
            <div>
              <v-icon @click="deleteNotificationItem(item, $event)" class="cursor-pointer"
                style="color: var(--primary-color)">
                mdi-delete
              </v-icon>
            </div>
          </div>
        </div>

      </div>
      <div class="d-flex justify-space-between align-center mb-14 mt-6" v-if="notification.length > 0">
        <div>
          <span class="font-14" style="color: var(--primary-color) !important">Showing 1-{{ pagination.footerValue }} of
            {{ pagination.totalCount }} entries</span>
        </div>
        <div class="d-flex align-center">
          <span class="font-14 mr-5" style="color: var(--primary-color) !important">Entries per page:</span>
          <v-select v-model="pagination.footerValue" :items="[8, 16, 32, 64]" dense class="footer-select" hide-details>
          </v-select>
          <v-pagination v-model="pagination.page" :length="pagination.totalPages" color="var(--primary-color)"
            @input="fetchdata" :total-visible="7"></v-pagination>
        </div>
      </div>
    </div>
    <v-dialog v-model="deleteDialog" persistent max-width="400">
      <v-card class="pa-6 radius-21">
        <div class="d-flex justify-end">
          <v-icon @click="deleteDialog = false" color="var(--primary-color)"
            style="font-size: 33px">mdi-close-circle</v-icon>
        </div>
        <div class="d-flex justify-center">
          <deletesvgcomponent />
        </div>
        <h3 style="color: var(--primary-color)" class="font-weight-500 text-center">
          Are you sure?
        </h3>
        <h6 style="color: var(--primary-color)" class="text-center font-weight-500">
          Delete
          {{ deleteItem === "all" ? "all notifications" : "this notification" }}
        </h6>
        <v-row class="my-4">
          <v-col cols="12" md="6">
            <v-btn class="py-6 w-100 radius-25" color="var(--primary-color)" @click="close()"><span
                class="text-transform font-18 white--text">Cancel</span>
            </v-btn>
          </v-col>
          <v-col cols="12" md="6">
            <v-btn class="py-6 w-100 radius-25" color="var(--primary-color)" @click="deleteNotifications"><span
                class="text-transform font-18 white--text">Delete</span>
            </v-btn>
          </v-col>
        </v-row>
      </v-card>
    </v-dialog>

    <v-dialog v-model="notificationDialogVisible" max-width="550">
      <v-card>
        <v-card-title class="headline white--text" style="background-color: var(--primary-color)">
          <v-icon left color="white">mdi-bell</v-icon>
          {{ selectedNotification?.notificationType }}
        </v-card-title>

        <v-card-text v-if="selectedNotification" class="pt-4">
          <div class="notification-content">


            <div class="user-info d-flex align-center">
              <div class="user-avatar mr-4">
                <v-avatar size="80" color="grey lighten-2">
                  <v-img src="path/to/default/avatar.png" alt="User Avatar">
                    <template v-slot:placeholder>
                      <v-icon size="40">mdi-account</v-icon>
                    </template>
                  </v-img>
                </v-avatar>
              </div>

              <div class="user-details flex-grow-1">
                <v-list-item three-line>
                  <v-list-item-content>
                    <v-list-item-title class="text-h6 mb-1">
                      <v-icon small color="primary" left>mdi-account</v-icon>
                      {{ selectedNotification.userName }}
                    </v-list-item-title>

                    <v-list-item-subtitle>
                      <v-icon small color="grey" left>mdi-clock-outline</v-icon>
                      {{ new Date(selectedNotification.createdDate).toLocaleString() }}
                    </v-list-item-subtitle>
                  </v-list-item-content>
                </v-list-item>
              </div>
            </div>
            <div v-if="selectedNotification.teamName" class="team-banner mb-4 pa-3">
              <div class="d-flex align-center">
                <v-icon color="var(--primary-color)" class="mr-2">mdi-account-group</v-icon>
                <span class="text-h6 font-weight-medium" style="color: var(--primary-color)">
                  Team: {{ selectedNotification.teamName }}
                </span>
              </div>
            </div>
            <v-divider class="my-4"></v-divider>

            <div class="message-section pa-4">
              <div class="text-subtitle-1 font-weight-medium mb-2">
                <v-icon small color="primary" left>mdi-message-text</v-icon>
                Message
              </div>
              <v-card outlined class="pa-4 message-content">
                {{ selectedNotification.messageBody }}
              </v-card>
            </div>

            <v-divider class="my-4"></v-divider>

            <div class="additional-details pa-4"
              v-if="selectedNotification.organizationId || selectedNotification.organizationColor">
              <v-row>
                <v-col cols="6" v-if="selectedNotification.organizationId">
                  <div class="text-subtitle-2 grey--text">Organization ID</div>
                  <div class="font-weight-medium">#{{ selectedNotification.organizationId }}</div>
                </v-col>
                <v-col cols="6" v-if="selectedNotification.organizationColor">
                  <div class="text-subtitle-2 grey--text">Organization Color</div>
                  <div class="d-flex align-center">
                    <v-icon small :color="selectedNotification.organizationColor" class="mr-2">
                      mdi-circle
                    </v-icon>
                    {{ selectedNotification.organizationColor }}
                  </div>
                </v-col>
              </v-row>
            </div>
          </div>
        </v-card-text>

        <v-card-actions class="pb-4 px-6">
          <v-spacer></v-spacer>
          <v-btn color="grey" text @click="notificationDialogVisible = false">
            Close
          </v-btn>
        </v-card-actions>
      </v-card>
    </v-dialog>
  </div>
</template>

<script>
import switchcomponent from "@/components/Notification/togglebutton.component.vue";
import deletesvgcomponent from "@/components/Deletesvg/delete.component.vue";
import { mapGetters } from "vuex";
export default {
  components: { switchcomponent, deletesvgcomponent },
  data() {
    return {
      loader: false,
      switch1: false,
      pagination: {
        page: 1,
        footerValue: 8,
        totalPages: null,
        totalCount: null,
      },
      payload: {},
      notification: [],
      deleteDialog: false,
      deleteItem: null,
      notificationDialogVisible: false,
      selectedNotification: null
    };
  },
  mounted() {
    this.fetchdata();
  },
  watch: {
    "pagination.footerValue": {
      immediate: true,
      handler(newValue, oldValue) {
        if (this.notification.length > 0) {
          if (newValue !== oldValue && this.pagination.page > 1) {
            this.pagination.page = 1;
          }
          this.fetchdata();
        }
      },
    },
  },
  computed: {
    ...mapGetters(["getUserId", "getOrganizationId", "getNotifications"]),
  },
  methods: {
    deleteNotificationItem(item, event) {
      if (event) {
        event.stopPropagation();
      }
      this.deleteDialog = true;
      this.deleteItem = item;
    },
    deleteNotifications() {
      if (this.deleteItem === "all") {
        this.loader = true;
        this.$store
          .dispatch("deleteAllNotification", this.getUserId)
          .then((response) => {
            if (response.data.succeeded === true) {
              this.loader = false;
              this.$swal.fire({
                position: "top-end",
                icon: "success",
                title: "Notifications deleted successfully",
                showConfirmButton: false,
                timer: 2000,
                toast: true,
              });
              this.close();
              this.fetchdata();
            } else {
              this.loader = false;
              this.$swal.fire({
                position: "top-end",
                icon: "error",
                title: response.data.message,
                showConfirmButton: false,
                timer: 2000,
                toast: true,
              });
            }
          });
      } else {
        this.loader = true;
        this.$store
          .dispatch("deleteNotification", this.deleteItem.id)
          .then((response) => {
            if (response.data.succeeded === true) {
              this.loader = false;
              this.$swal.fire({
                position: "top-end",
                icon: "success",
                title: "Notification deleted successfully",
                showConfirmButton: false,
                timer: 2000,
                toast: true,
              });
              this.close();
              this.fetchdata();
            } else {
              this.loader = false;
              this.$swal.fire({
                position: "top-end",
                icon: "error",
                title: response.data.message,
                showConfirmButton: false,
                timer: 2000,
                toast: true,
              });
            }
          });
      }
    },
    formatDate(date) {
      const day = ("0" + date.getDate()).slice(-2);
      const month = ("0" + (date.getMonth() + 1)).slice(-2);
      const year = date.getFullYear();
      return `${month}-${day}-${year}`;
    },
    handleNotificationClick(item) {
      if (item.notificationType === "Task Completion") {
        const contractId = item.valueId;
        const organizationId = item.organizationId;

        this.$router.push({
          path: '/checklist/user',
          query: { contractId, organizationId }
        });
      }
      else if (item.notificationType === "Contract Schedule") {
        const contractId = item.valueId;
        const organizationId = item.organizationId;

        this.$router.push({
          path: '/checklist/user',
          query: { contractId, organizationId }
        });
      }
      else if (item.notificationType === "Team Lead") {
        const userId = item.valueId;
        // Extract team name from message body
        const teamName = this.extractTeamName(item.messageBody);
        item.teamName = teamName; // Add team name to item
        this.showNotificationDetails(item);
      }
      else if (item.notificationType === "Team Member") {
        const userId = item.valueId;
        // Extract team name from message body
        const teamName = this.extractTeamName(item.messageBody);
        item.teamName = teamName; // Add team name to item
        this.showNotificationDetails(item);
      }
      else if (item.notificationType === "Administrator") {
        const userId = item.valueId;
        this.showNotificationDetails(item);
      }
      else if (item.notificationType === "Member") {
        const userId = item.valueId;
        this.showNotificationDetails(item);
      }
    },
    extractTeamName(messageBody) {
      // Extract team name from between single quotes
      const teamNameMatch = messageBody.match(/\'(.*?)\'/);
      if (teamNameMatch && teamNameMatch[1]) {
        return teamNameMatch[1];
      }
      return '';
    },
    fetchdata() {
      this.loader = true;
      this.payload = {
        userId: +this.getUserId,
        isPagination: true,
        size: this.pagination.footerValue,
        pageNo: this.pagination.page,
      };
      this.$store
        .dispatch("getNotifications", this.payload)
        .then((response) => {
          this.loader = false;
          this.notification =
            this.getNotifications?.data?.data?.contractScheduleList || [];
          if (this.notification.length === 0 && this.pagination.page > 1) {
            this.pagination.page = 1;
            this.fetchdata();
          }
          this.pagination.totalCount = response.data.totalCounts;
          this.pagination.totalPages = Math.ceil(
            this.pagination.totalCount / this.pagination.footerValue
          );
        });
    },
    close() {
      this.deleteDialog = false;
    },
    showNotificationDetails(notification) {
      this.selectedNotification = notification;
      this.notificationDialogVisible = true;
    },
    markAsRead(notificationId) {
      // After API call success:
      this.notificationDialogVisible = false;
    }
  },
};
</script>

<style scoped>
.v-list>>>.v-list-item--active {
  background-color: var(--secondary-color) !important;
  color: var(--secondary-color) !important;
}

.notification-content {
  padding: 20px;
}

.user-info {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.user-avatar {
  margin-right: 16px;
}

.user-details h3 {
  margin: 0 0 5px 0;
  font-size: 18px;
}

.timestamp {
  color: #666;
  margin: 0;
  font-size: 14px;
}

.message-content {
  margin-bottom: 20px;
  padding: 15px;
  background-color: #f5f7fa;
  border-radius: 8px;
}

.additional-info {
  font-size: 14px;
  color: #666;
}

.message-content {
  background-color: #f5f7fa !important;
  border-radius: 8px;
  line-height: 1.6;
}

.notification-content {
  max-height: 80vh;
  overflow-y: auto;
}

.headline {
  font-size: 1.25rem !important;
}

.team-banner {
  background-color: #f5f7fa;
  border-radius: 8px;
  border-left: 4px solid var(--primary-color);
  padding: 10px;
  margin-bottom: 20px;
}
</style>
